{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nconst initialSuggestedQuestions = [\"How does gravity work?\", \"Why do plants need sunlight?\", \"What makes the sky blue?\", \"How do birds fly?\", \"Why does ice float on water?\"];\nconst initialState = {\n  messages: [{\n    id: '1',\n    text: \"Hi there! I'm Nova, your science buddy! ðŸ¦‰ What would you like to explore today?\",\n    sender: 'nova',\n    timestamp: Date.now()\n  }],\n  isTyping: false,\n  suggestedQuestions: initialSuggestedQuestions,\n  isLoading: false\n};\n\n// Async thunk for simulating AI response\nexport const sendMessage = createAsyncThunk('chat/sendMessage', async message => {\n  // Simulate API delay\n  await new Promise(resolve => setTimeout(resolve, 1000 + Math.random() * 2000));\n\n  // Simple response logic - in real app this would call your AI API\n  const responses = [\"That's a fantastic question! Let me explain...\", \"Great thinking! Here's what happens...\", \"I love your curiosity! Science is amazing because...\", \"Wow, that's a really smart question! The answer is...\", \"You're thinking like a real scientist! Here's the scoop...\"];\n  const randomResponse = responses[Math.floor(Math.random() * responses.length)];\n  return `${randomResponse} ${generateScientificResponse(message)}`;\n});\nfunction generateScientificResponse(question) {\n  if (question.toLowerCase().includes('gravity')) {\n    return \"Gravity is like an invisible force that pulls everything toward the center of Earth! It's what keeps us on the ground and makes things fall down instead of floating away.\";\n  }\n  if (question.toLowerCase().includes('plant')) {\n    return \"Plants are like nature's solar panels! They use sunlight, water, and air to make their own food through photosynthesis. Pretty cool, right?\";\n  }\n  if (question.toLowerCase().includes('sky') || question.toLowerCase().includes('blue')) {\n    return \"The sky looks blue because of the way sunlight bounces around in our atmosphere! Blue light gets scattered more than other colors.\";\n  }\n  return \"That's such an interesting topic! Science helps us understand how our amazing world works. Keep asking questions - that's how great scientists are made!\";\n}\nconst chatSlice = createSlice({\n  name: 'chat',\n  initialState,\n  reducers: {\n    addUserMessage: (state, action) => {\n      const message = {\n        id: Date.now().toString(),\n        text: action.payload,\n        sender: 'user',\n        timestamp: Date.now()\n      };\n      state.messages.push(message);\n    },\n    setTyping: (state, action) => {\n      state.isTyping = action.payload;\n    },\n    clearChat: state => {\n      state.messages = [initialState.messages[0]];\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(sendMessage.pending, state => {\n      state.isLoading = true;\n      state.isTyping = true;\n    }).addCase(sendMessage.fulfilled, (state, action) => {\n      const message = {\n        id: Date.now().toString(),\n        text: action.payload,\n        sender: 'nova',\n        timestamp: Date.now()\n      };\n      state.messages.push(message);\n      state.isLoading = false;\n      state.isTyping = false;\n    }).addCase(sendMessage.rejected, state => {\n      state.isLoading = false;\n      state.isTyping = false;\n    });\n  }\n});\nexport const {\n  addUserMessage,\n  setTyping,\n  clearChat\n} = chatSlice.actions;\nexport default chatSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","initialSuggestedQuestions","initialState","messages","id","text","sender","timestamp","Date","now","isTyping","suggestedQuestions","isLoading","sendMessage","message","Promise","resolve","setTimeout","Math","random","responses","randomResponse","floor","length","generateScientificResponse","question","toLowerCase","includes","chatSlice","name","reducers","addUserMessage","state","action","toString","payload","push","setTyping","clearChat","extraReducers","builder","addCase","pending","fulfilled","rejected","actions","reducer"],"sources":["/Users/bilal/Documents/GitHub/scifly/src/features/chat/chatSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction, createAsyncThunk } from '@reduxjs/toolkit'\n\ninterface ChatMessage {\n  id: string\n  text: string\n  sender: 'user' | 'nova'\n  timestamp: number\n}\n\ninterface ChatState {\n  messages: ChatMessage[]\n  isTyping: boolean\n  suggestedQuestions: string[]\n  isLoading: boolean\n}\n\nconst initialSuggestedQuestions = [\n  \"How does gravity work?\",\n  \"Why do plants need sunlight?\",\n  \"What makes the sky blue?\",\n  \"How do birds fly?\",\n  \"Why does ice float on water?\"\n]\n\nconst initialState: ChatState = {\n  messages: [\n    {\n      id: '1',\n      text: \"Hi there! I'm Nova, your science buddy! ðŸ¦‰ What would you like to explore today?\",\n      sender: 'nova',\n      timestamp: Date.now()\n    }\n  ],\n  isTyping: false,\n  suggestedQuestions: initialSuggestedQuestions,\n  isLoading: false,\n}\n\n// Async thunk for simulating AI response\nexport const sendMessage = createAsyncThunk(\n  'chat/sendMessage',\n  async (message: string) => {\n    // Simulate API delay\n    await new Promise(resolve => setTimeout(resolve, 1000 + Math.random() * 2000))\n    \n    // Simple response logic - in real app this would call your AI API\n    const responses = [\n      \"That's a fantastic question! Let me explain...\",\n      \"Great thinking! Here's what happens...\",\n      \"I love your curiosity! Science is amazing because...\",\n      \"Wow, that's a really smart question! The answer is...\",\n      \"You're thinking like a real scientist! Here's the scoop...\"\n    ]\n    \n    const randomResponse = responses[Math.floor(Math.random() * responses.length)]\n    return `${randomResponse} ${generateScientificResponse(message)}`\n  }\n)\n\nfunction generateScientificResponse(question: string): string {\n  if (question.toLowerCase().includes('gravity')) {\n    return \"Gravity is like an invisible force that pulls everything toward the center of Earth! It's what keeps us on the ground and makes things fall down instead of floating away.\"\n  }\n  if (question.toLowerCase().includes('plant')) {\n    return \"Plants are like nature's solar panels! They use sunlight, water, and air to make their own food through photosynthesis. Pretty cool, right?\"\n  }\n  if (question.toLowerCase().includes('sky') || question.toLowerCase().includes('blue')) {\n    return \"The sky looks blue because of the way sunlight bounces around in our atmosphere! Blue light gets scattered more than other colors.\"\n  }\n  return \"That's such an interesting topic! Science helps us understand how our amazing world works. Keep asking questions - that's how great scientists are made!\"\n}\n\nconst chatSlice = createSlice({\n  name: 'chat',\n  initialState,\n  reducers: {\n    addUserMessage: (state, action: PayloadAction<string>) => {\n      const message: ChatMessage = {\n        id: Date.now().toString(),\n        text: action.payload,\n        sender: 'user',\n        timestamp: Date.now()\n      }\n      state.messages.push(message)\n    },\n    setTyping: (state, action: PayloadAction<boolean>) => {\n      state.isTyping = action.payload\n    },\n    clearChat: (state) => {\n      state.messages = [initialState.messages[0]]\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(sendMessage.pending, (state) => {\n        state.isLoading = true\n        state.isTyping = true\n      })\n      .addCase(sendMessage.fulfilled, (state, action) => {\n        const message: ChatMessage = {\n          id: Date.now().toString(),\n          text: action.payload,\n          sender: 'nova',\n          timestamp: Date.now()\n        }\n        state.messages.push(message)\n        state.isLoading = false\n        state.isTyping = false\n      })\n      .addCase(sendMessage.rejected, (state) => {\n        state.isLoading = false\n        state.isTyping = false\n      })\n  },\n})\n\nexport const { addUserMessage, setTyping, clearChat } = chatSlice.actions\nexport default chatSlice.reducer "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}